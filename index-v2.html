<html>

<head>
    <title>a funny rubik cubic game</title>
    <link rel=StyleSheet href="./styles-v2.css" type="text/css" media=screen>
    <script src="https://kit.fontawesome.com/20496c3b97.js" crossorigin="anonymous"></script>
</head>

<body>
    <header class="page__header">
        <h1 class="page__title">The Rubik Cube</h1>
    </header>
    <section class="page__main">
        <div class="cubic__main" id="cubic-selected-area">
            <div class="cubic" id="cubic">
                <div class="cubic__plain"> </div>
                <div class="cubic__plain"> </div>
                <div class="cubi__plainc"> </div>
                <div class="cubic__plain"> </div>
            </div>

        </div>
        <section class="action-bar">
            <h3 class="action-bar__rotagin-title">Rotate cube</h3>
            <div class="action-bar__rotation-icons">
                <i class="fas fa-arrow-circle-left" onclick="rotate('left')"></i>
                <i class="fas fa-arrow-circle-up" onclick="rotate('top')"></i>
                <i class="fas fa-arrow-circle-right" onclick="rotate('right')"></i>
            </div>

            <h3 class="action-bar__translate-title">Cube movements</h3>
            <div class="action-bar__moves-group">
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveFirtsVariationClockwise('U')">U</button>
                    <button class="action-bar__move" onclick="moveFirtsVariationInverseClockwise('U!')">U'</button>
                </div>
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveFirtsVariationClockwise('E')">E</button>
                    <button class="action-bar__move" onclick="moveFirtsVariationInverseClockwise('E!')">E'</button>
                </div>
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveFirtsVariationClockwise('D')">D</button>
                    <button class="action-bar__move" onclick="moveFirtsVariationInverseClockwise('D!')">D'</button>
                </div>
            </div>

            <div class="action-bar__moves-group">
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveSecondVariationClockwise('R')">R</button>
                    <button class="action-bar__move" onclick="moveSecondVariationInverseClockwise('R!')">R'</button>
                </div>
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveSecondVariationClockwise('E')">E</button>
                    <button class="action-bar__move" onclick="moveSecondVariationInverseClockwise('E!')">E'</button>
                </div>
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveSecondVariationClockwise('L')">L</button>
                    <button class="action-bar__move" onclick="moveSecondVariationInverseClockwise('L!')">L'</button>
                </div>
            </div>

            <div class="action-bar__moves-group">
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveThirdVariationClockwise('F')">F</button>
                    <button class="action-bar__move" onclick="moveSecondVariationInverseClockwise('R!')">R'</button>
                </div>
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveThirdVariationClockwise('S')">S</button>
                    <button class="action-bar__move" onclick="moveSecondVariationInverseClockwise('E!')">E'</button>
                </div>  
                <div class="action-bar__move-column">
                    <button class="action-bar__move" onclick="moveThirdVariationClockwise('D!')">D'</button>
                    <button class="action-bar__move" onclick="moveThirdVariationClockwise('L!')">L'</button>
                </div>
            </div>

            <!--   <div class="action-bar__move-column">
                <button class="action-bar__move" onclick="moveCubeY('first')">
                    <img width="40" src="file:///C:/Users/Ezequiel/Downloads/Captura_preview_rev_1%20(1)%20(1).png" />

                </button>
                <button class="action-bar__move">F'</button>
            </div>

            <div class="action-bar__move-column">
                <button class="action-bar__move" onclick="moveCubeY('second')">
                    <img width="40" src="file:///C:/Users/Ezequiel/Downloads/Captura_preview_rev_1%20(1)%20(1).png" />

                </button>
                <button class="action-bar__move">F'</button>
            </div>
            <div class="action-bar__move-column">
                <button class="action-bar__move" onclick="moveCubeY('third')">
                    <img width="40" src="file:///C:/Users/Ezequiel/Downloads/Captura_preview_rev_1%20(1)%20(1).png" />

                </button>
                <button class="action-bar__move">F'</button>
            </div> -->
            </div>

            <div class="action-bar__buttons">
                <button id="animate-button" class="action-bar__animate-button">Lets spin!</button>
                <button id="grab-button" class="action-bar__grab-button">Grab</button>
            </div>
        </section>
    </section>

    <footer>

    </footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
<script src="./scripts/mathHelper.js"></script>
<script src="./scripts/globals.js"></script>
<script src="./scripts/buildCube.js"></script>
<script src="./scripts/rotateCube.js"></script>
<script src="./scripts/spiningAnimations.js"></script>
<script src="./scripts/grabCube.js"></script>
<script src="./scripts/moves.js"></script>

<script>
    let startPiece;
    let endPiece;

    const getPosition = (piece) => {
        return {
            face: piece.id.split('-')[2],
            cell: piece.id.split('-')[3]
        }
    };

    const findRotation = (startPiece, endPiece) => {
        const startPosition = getPosition(startPiece);
        const endPosition = getPosition(endPiece);
    };

    const logPiece = (event) => {
        const {
            type,
            target
        } = event;
        const targetClassNames = Array.from(target.classList);

        if (target && targetClassNames.includes('cubic__piece')) {
            isRotating = type === 'mousedown';
            if (isRotating) {
                startPiece = target;
            } else {
                endPiece = target
                findRotation(startPiece, endPiece)
            }
        }
    };

    selectedArea.addEventListener("mousedown", logPiece, false);
    selectedArea.addEventListener("mouseup", logPiece, false);
</script>

<script>

</script>

</html>